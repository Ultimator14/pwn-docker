#!/usr/bin/python

from pwn import *

# Config
local = True
BINARY = "./mybinary"
container_connection = ("172.17.0.2", 4100, 4101)  # host, pwntools-port, gdb-port
remote_connection = ("remotehost", 0)  # host, port

gdbscript = """
b main
c
"""

# Default setup
context.terminal = ["gnome-terminal", "-e"]
context.gdbinit = "~/.gdbinit-gef"
context.binary = BINARY

if local:
    # container
    host = container_connection[0]
    tport = container_connection[1]
    gport = container_connection[2]
    gdb.attach((host, gport), gdbscript, BINARY)
else:
    # remote
    host = remote_connection[0]
    tport = remote_connection[1]

sh = remote(host, tport)

# Exploit
#sh.send("1234\n")
#print(sh.recv())

sh.interactive()
